-- < Aliases > --
local Instance_new = Instance.new
local Vector3_new = Vector3.new
local CFrame_new = CFrame.new
local CFrame_Angles = CFrame.Angles
local coroutine_wrap = coroutine.wrap
local coroutine_yield = coroutine.yield
local coroutine_running = coroutine.running
local string_find = string.find
local string_match = string.match
local string_gsub = string.gsub
local string_sub = string.sub
local string_byte = string.byte
local string_split = string.split
local table_concat = table.concat
local table_insert = table.insert
local debug_traceback = debug.traceback
local math_rad = math.rad
local math_abs = math.abs
local math_floor = math.floor
local pog pog = nil
local game = game
local delay = delay
local wait = wait
local rawget = rawget
local error = error
local rawset = rawset
local assert = function(p1, p2, p3)
if not p1 then
error(p2, p3)
end
end
local newproxy = newproxy
local ipairs = ipairs
local getmetatable = getmetatable
local setmetatable = setmetatable
local tostring = tostring
local tonumber = tonumber
local type = type
local typeof = typeof
local pcall = pcall
local xpcall = xpcall
local setfenv = setfenv
local getfenv = getfenv
local workspace = workspace
local newcclosure = newcclosure or function(p1)
return coroutine_wrap(function(...)
while true do
coroutine_yield(p1(...))
end
end)
end
-- < Services > --
local VirtualInputManager = game:GetService("VirtualInputManager")
local UserInputService = game:GetService("UserInputService")
local ScriptContext = game:GetService("ScriptContext")
local InsertService = game:GetService("InsertService")
local TestService = game:GetService("TestService")
local StudioData = game:GetService("StudioData")
local RunService = game:GetService("RunService")
local CoreGui = game:GetService("CoreGui")
local Players = game:GetService("Players")
local GlobalSettings = settings()
local TaskScheduler = GlobalSettings:GetService("TaskScheduler")
-- < Class Aliases > --
local IsA = game.IsA
local IsDescendantOf = game.IsDescendantOf
local GetPropertyChangedSignal = game.GetPropertyChangedSignal
local Destroy = game.Destroy
local WaitForChild = game.WaitForChild
local Fire = Instance_new("BindableEvent").Fire
local MoveTo = Instance_new("Model").MoveTo
local InputHoldBegin, InputHoldEnd = (function()
    local A = Instance_new("ProximityPrompt")
    return A.InputHoldBegin, A.InputHoldEnd
end)()
local GetFFlag = GlobalSettings.GetFFlag
local IsClient = RunService.IsClient
local IsServer = RunService.IsServer
local Error = ScriptContext.Error
local RenderStepped = RunService.RenderStepped
local LoadLocalAsset = InsertService.LoadLocalAsset
local Message = TestService.Message
local SendMouseButtonEvent = VirtualInputManager.SendMouseButtonEvent
local SendMouseWheelEvent = VirtualInputManager.SendMouseWheelEvent
local SendMouseMoveEvent = VirtualInputManager.SendMouseMoveEvent
local SendKeyEvent = VirtualInputManager.SendKeyEvent
local GetMouseLocation = UserInputService.GetMouseLocation
local Wait, Connect, Disconnect = (function()
    local A = game.Changed
    local B = A.Connect
    return A.Wait, B, B(A, function()end).Disconnect
end)()
-- < Upvalues > --
local ChangedSignals = {}
local HiddenPropertyEvents = {}
local IsRBXActive = true
local LocalCamera = workspace.CurrentCamera
local LocalPlayer = Players.LocalPlayer
local LocalMouse = LocalPlayer:GetMouse()
local instance_table = game:GetDescendants()
local env = (getgenv and getgenv or getrenv and getrenv or getfenv)()
local env_add = function(p1, p2, p3, p4)
if rawget(env, p1) then return end
if p4 and not rawget(env, p4) then return end
rawset((p4 and env[p4] or env), p1, (p3 and newcclosure or function(p1) 
return p1
end)(p2))
end
-- < Source > --
Connect(game.DescendantAdded, function(p1)
table_insert(instance_table, p1)
end)
Connect(game.ItemChanged, function(p1, p2)
local A = HiddenPropertyEvents[p1]
if A then
local B = A[p2]
if B then
for C, D in ipairs(B) do
Fire(D)
end
end
end
end)
Connect(UserInputService.WindowFocusReleased, function()
IsRBXActive = false
end)
Connect(UserInputService.WindowFocused, function()
IsRBXActive = true
end)
env_add("info", function(p1)
assert(type(p1) ~= "nil", "invalid argument #1 to '?' (value expected)", 2)
local A = pcall(Message, TestService, "Information\n" .. tostring(p1))
return A
end, true)
env_add("httpget", game.HttpGetAsync)
env_add("httppost", game.HttpPostAsync)
env_add("getreg", function()
-- There is no known method to do this in lua
return {}
end, true)
env_add("newcclosure", newcclosure, true)
env_add("ishiddenproperty", function(p1, p2)
assert(typeof(p1) == "Instance", "invalid argument #1 to '?' (Instance expected)", 2)
assert(type(p2) == "string", "invalid argument #2 to '?' (string expected)", 2)
local A, B = xpcall(GetPropertyChangedSignal, function(p3, p4)
return p3, p4
end, p1, p2)
assert(not string_find(tostring(B), "not a valid"), "invalid argument #2 to '?' (property expected)", 2)
return (not A)
end, true)
env_add("getpropvalue", function(p1, p2)
assert(typeof(p1) == "Instance", "invalid argument #1 to '?' (Instance expected)", 2)
assert(type(p2) == "string", "invalid argument #2 to '?' (string expected)", 2)
local A, B = xpcall(GetPropertyChangedSignal, function(p3, p4)
return p3, p4
end, p1, p2)
assert(not string_find(tostring(B), "not a valid"), "invalid argument #2 to '?' (property expected)", 2)
local A, B = pcall(function()
return p1[p2]
end)
if A then
return B
end
end, true)
env_add("setpropvalue", function(p1, p2, p3)
assert(typeof(p1) == "Instance", "invalid argument #1 to '?' (Instance expected)", 2)
assert(type(p2) == "string", "invalid argument #2 to '?' (string expected)", 2)
assert(type(p3) ~= "nil", "invalid argument #3 to '?' (value expected)", 2)
local A, B = xpcall(GetPropertyChangedSignal, function(p3, p4)
return p3, p4
end, p1, p2)
assert(not string_find(tostring(B), "not a valid"), "invalid argument #2 to '?' (property expected)", 2)
local A, B = pcall(function()
p1[p2] = p3
end)
return A
end, true)
env_add("nyspawn", function(p1)
assert(type(p1) == "function", "invalid argument #1 to '?' (function expected)", 2)
local A = xpcall(setfenv, function(p1)
return p1
end, p1, getfenv(p1))
assert(A, "invalid argument #1 to '?' (Lua function expected)", 2)
local B = setmetatable({}, setmetatable({__concat = function()p1()end}, {__mode = "vk"})) .. pog
end, true)
env_add("setpropertylocked", function(p1, p2, p3)
assert(typeof(p1) == "Instance", "invalid argument #1 to '?' (Instance expected)")
assert(type(p2) == "string", "invalid argument #2 to '?' (string expected)")
assert(type(p3) == "boolean", "invalid argument #3 to '?' (boolean expected)")
local A, B = xpcall(GetPropertyChangedSignal, function(p4, p5)
return p4, p5
end, p1, p2)
assert(A, B, 0)
if ChangedSignals[p1] and p3 then
assert(not ChangedSignals[p1][p2], "This property is already locked!", 0)
end
if p3 then
local C C = p1[p2]
local D D = Connect(B, function()
local A = tostring(C)
A = A == "nil" and "NULL" or A
p1[p2] = C
error("The " .. p2 .. " property of " .. tostring(p1) .. " is locked, current: " .. A, 0)
end)
local E E = ChangedSignals[p1]
if E then
E[p2] = D
else
ChangedSignals[p1] = {
[p2] = D
}
end
else
local F F = ChangedSignals[p1]
if F then
local G G = F[p2]
if G then
Disconnect(G)
F[p2] = nil
end
end
end
end, true)
env_add("GetHiddenPropertyChangedSignal", function(p1, p2)
assert(typeof(p1) == "Instance", "invalid argument #1 to '?' (Instance expected)", 2)
assert(type(p2) == "string", "invalid argument #2 to '?' (string expected)", 2)
local A, B = xpcall(GetPropertyChangedSignal, function(p3, p4)
return p3, p4
end, p1, p2)
assert(not string_find(tostring(B), "not a valid"), "invalid argument #2 to '?' (property expected)", 2)
if A then
return GetPropertyChangedSignal(p1, p2)
end
local D = newproxy(true)
local E = getmetatable(D)
E.__newindex = function(p5, p6, p7)
error(tostring(p6) .. " cannot be assigned to", 0)
end
E.__index = function(p8, p9)
local A = {}
local C = Instance_new("BindableEvent")
function A:Connect(p10)
Connect(C.Event, p10)
local A = HiddenPropertyEvents[p1]
if A then
local B = A[p2]
if B then
table_insert(B, C)
else
A[p2] = {C}
end
else
HiddenPropertyEvents[p1] = {[p2] = {C}}
end
local B = newproxy(true)
local D = getmetatable(B)
D.__newindex = function(p1, p2)
error(tostring(p2) .. " cannot be assigned to", 0)
end
D.__index = function(p3, p4)
local A = {}
function A:Disconnect()
local A = HiddenPropertyEvents[p1]
if A then
local B = A[p2]
if B then
Destroy(C)
else
A[p2] = {}
end
else
HiddenPropertyEvents[p1] = {}
end
end
local B = A[p4]
if B then
return B
end
error(p4 .. " is not a valid member of CustomScriptConnection", 0)
end
D.__tostring = function()
return "Connection"
end
D.__metatable = "The metatable is locked"
return B
end
function A:Wait()
local A = HiddenPropertyEvents[p1]
if A then
local B = A[p2]
if B then
table_insert(B, C)
else
A[p2] = {C}
end
else
HiddenPropertyEvents[p1] = {[p2] = {C}}
end
Wait(C.Event)
end
local B = A[p9]
if B then
return B
end
error(p9 .. " is not a valid member of CustomScriptSignal", 0)
end
E.__tostring = function(p12)
return "Signal " .. p2 .. "Changed"
end
E.__metatable = "The metatable is locked"
return D
end, true)
